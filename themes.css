/* 传讯聊天应用 - 主题样式 */

/* 颜色主题定义 */
:root[data-color-theme="gold"] {
    --accent-color: #c5a47e;
    --accent-color-dark: #d4af37;
    --accent-color-rgb: 197, 164, 126;
}

:root[data-color-theme="blue"] {
    --accent-color: #7FA6CD;
    --accent-color-dark: #7FA6CD;
    --accent-color-rgb: 127, 166, 205;
}

:root[data-color-theme="purple"] {
    --accent-color: #BB9EC7;
    --accent-color-dark: #BB9EC7;
    --accent-color-rgb: 187, 158, 199;
}

:root[data-color-theme="green"] {
    --accent-color: #7BC8A4;
    --accent-color-dark: #7BC8A4;
    --accent-color-rgb: 123, 200, 164;
}

:root[data-color-theme="pink"] {
    --accent-color: #F4A6B3;
    --accent-color-dark: #F4A6B3;
    --accent-color-rgb: 244, 166, 179;
}

:root[data-color-theme="black-white"] {
    --accent-color: #333333;
    --accent-color-dark: #D6D6D6;
    --accent-color-rgb: 51, 51, 51;
}

:root[data-color-theme="pastel"] {
    --accent-color: #A8D8EA;
    --accent-color-dark: #AA96DA;
    --accent-color-rgb: 168, 216, 234;
}

:root[data-color-theme="sunset"] {
    --accent-color: #FF9A8B;
    --accent-color-dark: #FF6B6B;
    --accent-color-rgb: 255, 154, 139;
}

:root[data-color-theme="forest"] {
    --accent-color: #7BA05B;
    --accent-color-dark: #556B2F;
    --accent-color-rgb: 123, 160, 91;
}

:root[data-color-theme="ocean"] {
    --accent-color: #4A90E2;
    --accent-color-dark: #2E5B9A;
    --accent-color-rgb: 74, 144, 226;
}

/* 气泡样式主题 */
:root[data-bubble-style="modern"] {
    --radius: 20px;
    --message-font-weight: 500;
}

:root[data-bubble-style="rounded"] {
    --radius: 25px;
    --message-font-weight: 400;
}

:root[data-bubble-style="sharp"] {
    --radius: 8px;
    --message-font-weight: 600;
}

/* 背景样式 */
.with-background {
    position: relative;
}

.with-background::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--chat-bg-image, none);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: -1;
}

.with-background .chat-messages,
.with-background .app-header,
.with-background .input-container {
    background: rgba(var(--secondary-bg-rgb), 0.85);
    backdrop-filter: blur(10px);
}

.with-background .message-bubble {
    backdrop-filter: blur(5px);
}

/* 深色模式下的背景调整 */
:root[data-theme="dark"].with-background .chat-messages,
:root[data-theme="dark"].with-background .app-header,
:root[data-theme="dark"].with-background .input-container {
    background: rgba(var(--secondary-bg-rgb), 0.95);
}

/* 主题切换动画 */
* {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* 特殊效果 */
:root[data-color-theme="gold"] .welcome-logo i {
    text-shadow: 0 0 20px rgba(197, 164, 126, 0.5);
}

:root[data-color-theme="blue"] .welcome-logo i {
    text-shadow: 0 0 20px rgba(127, 166, 205, 0.5);
}

:root[data-color-theme="purple"] .welcome-logo i {
    text-shadow: 0 0 20px rgba(187, 158, 199, 0.5);
}

:root[data-color-theme="green"] .welcome-logo i {
    text-shadow: 0 0 20px rgba(123, 200, 164, 0.5);
}

:root[data-color-theme="pink"] .welcome-logo i {
    text-shadow: 0 0 20px rgba(244, 166, 179, 0.5);
}

/* 节日主题 */
.christmas-theme {
    --accent-color: #c41e3a;
    --accent-color-dark: #165b33;
    --accent-color-rgb: 196, 30, 58;
}

.spring-theme {
    --accent-color: #ff69b4;
    --accent-color-dark: #90ee90;
    --accent-color-rgb: 255, 105, 180;
}

/* 动态背景 */
.animated-bg {
    animation: gradientShift 10s ease infinite;
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* 聊天气泡特殊效果 */
.message.sent .message-bubble::after {
    content: '';
    position: absolute;
    top: 0;
    right: -8px;
    width: 0;
    height: 0;
    border-left: 8px solid var(--accent-color, #c5a47e);
    border-top: 8px solid transparent;
}

.message.received .message-bubble::after {
    content: '';
    position: absolute;
    top: 0;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid var(--message-received-bg);
    border-top: 8px solid transparent;
}

/* 字体主题 */
.font-modern {
    --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --message-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.font-classic {
    --font-family: 'Times New Roman', Times, serif;
    --message-font-family: 'Times New Roman', Times, serif;
}

.font-casual {
    --font-family: 'Comic Sans MS', cursive, sans-serif;
    --message-font-family: 'Comic Sans MS', cursive, sans-serif;
}